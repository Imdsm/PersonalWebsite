@model PersonalWebsite.Models.BlogPostsViewModel

@{
    ViewBag.Title = "Manage Blog";
}

<div class="row">
    <div class="twelve columns">

        <div class="row blog-manage-top">
            <div class="eight columns">
                <h4>Blog Management</h4>
            </div>
            <div class="four columns">                    
                <div class="row collapse blog-manage-search">
                    <div class="ten columns">
                        <input type="text" placeholder="Search blog posts" />
                    </div>
                    <div class="two columns">
                        <a class="button expand postfix">Go</a>
                    </div>
                </div>
            </div>
        </div>
  
        <table class="twelve blog-manage-table">
            <tbody>
            @if (Model.BlogPosts.Count == 0)
            {
                <tr>
                    <td colspan="5">
                        <p class="text-center">No blog posts found.</p>
                    </td>
                </tr>
            }
            else
            {
                foreach (var item in Model.BlogPosts)
                {
                    <tr>
                        <td class="blog-manage-td-check">
                            <input type="checkbox" id="checkbox_@item.BlogPostId">
                        </td>
                        <td class="blog-manage-td-post">
                            @Html.ActionLink(item.BlogTitle, "Edit", new { id = item.BlogPostId })<br>                            
                            @foreach (var tag in item.Tags)
                            {
                                <span class="label">@tag.TagName</span>
                            }                        
                        </td>
                        <td class="blog-manage-td-comments">
                            <img src="~/Content/images/comments.png" title="Comments" /> 0
                        </td>
                        <td class="blog-manage-td-views">
                            <img src="~/Content/images/views.png" title="Views" /> 0
                        </td>
                        <td class="blog-manage-td-date">
                            @if(item.DateModified != null)
                            {
                                <span class="has-tip tip-left blog-manage-date-tooltip" 
                                      data-width="90" 
                                      title ="Modified: @item.DateModified.ToString()">
                                    @item.DatePosted.ToString()
                                </span>
                            }
                            else
                            {
                                @item.DatePosted.ToString()
                            }
                        </td>
                    </tr>
                }    
            }                        
            </tbody>
            <tfoot>
                <tr>
                    <td class="blog-manage-td-check"><input type="checkbox" id="checkbox_all"></td>
                    <td class="blog-manage-td-post">@Html.ActionLink("Delete", "Delete", null, htmlAttributes: new { @class = "button small radius secondary" })</td>
                    <td colspan="3">@Html.ActionLink("New Post", "New", null, htmlAttributes: new { @class = "button small radius right" })</td>
                </tr>
            </tfoot>
        </table>

    </div>    
</div>